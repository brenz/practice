<!DOCTYPE html>
<html lang="en">

<head>
  <title>three.js kp-flame with WebGl</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="style/main.css">

</head>

<body class="homepage">
  <div class="container-fluid">
    <section class="intro" id="section0">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-8">
            <span class="flame_logo"></span>
            <h1>Where does your<br />journey begin</h1>
            <button id="imemerse" class="button-default button--rightarrow"><span>Find Your Place Here</span></button>
          </div>
        </div>
      </div>
    </section>

    <section class="row align-items-center no-gutters" id="section1">
      <div class="col-md-6">
        <img src="img/round_image1.png" class="clip-svg">
      </div>
      <div class="col-md-4">
        <h2>Your thirst for knowledge and capacity for compassion</h2>
        <span class="divider"></span>
        <p>We're recruitiong our inaugural class to become the holistic caregivers and health advocates of tomorrow.</p>
      </div>
    </section>

    <section class="row align-items-center no-gutters" id="section2">
      <div class="col-md-6">
        <img src="img/round_image2.png" class="clip-svg">
      </div>
      <div class="col-md-4">
        <h2>A new kind kind of education for tomorrow's doctors</h2>
        <span class="divider"></span>
        <p>You'll be supported by an academic environment grounded in hands-on learning and close collaboration</p>
      </div>
    </section>

    <section class="row align-items-center no-gutters" id="section3">
      <div class="col-md-6">
        <img src="img/round_image3.png" class="clip-svg">
      </div>
      <div class="col-md-4">
        <h2>Learning enhanced by cutting-edge technology</h2>
        <span class="divider"></span>
        <p>By leveraging the lastest technologies we're building a curriculum for tomorrow.</p>
      </div>
    </section>

    <section class="row align-items-center no-gutters" id="section4">
      <div class="col-md-6">
        <img src="img/round_image4.png" class="clip-svg">
      </div>
      <div class="col-md-4">
        <h2>Caregiving that extends beyond the exam room</h2>
        <span class="divider"></span>
        <p>With an emphasis on health systems science, you'll learn how to better care for patients.</p>
      </div>
    </section>
  </div>
  <svg width="0" height="0">
    <defs>
      <clipPath id="circleimage_mask">
        <circle cx="500" cy="500" r="0" fill="#ffffff" />
      </clipPath>
    </defs>
  </svg>
  <div class="scroll_down" tabindex="0">
    <div class="scroll_text">Scroll</div><span class="arrow"><img class="down_arrow" src="img/down_arrow.png"></span>
  </div>
  <div class="circlar_timeline"></div>
  <div id="flame-container"></div>

  <!-- Todo: Going to refactroy and load Three.js with package -->
  <script src="js/three.js"></script>
  <script src="js/WebGL.js"></script>
  <script src="js/shaders/CopyShader.js"></script>
  <script src="js/shaders/LuminosityHighPassShader.js"></script>

  <script src="js/postprocessing/EffectComposer.js"></script>
  <script src="js/postprocessing/RenderPass.js"></script>
  <script src="js/postprocessing/ShaderPass.js"></script>
  <script src="js/postprocessing/UnrealBloomPass.js"></script>
  <script src="js/stats.min.js"></script>
  <script src='js/dat.gui.min.js'></script>
  <script src="js/Tween.js"></script>
  <script src="js/anime.js"></script>

  <script type="x-shader/x-vertex" id="vertexshader">
    attribute float size;
    varying vec3 vColor;
    varying vec2 vUv;
    void main() {
      vUv = uv;
      vColor = color;
      vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
      gl_PointSize = size * ( 300.0 / -mvPosition.z );
      gl_Position = projectionMatrix * mvPosition;
    }
  </script>

  <script type="x-shader/x-fragment" id="fragmentshader">
    uniform sampler2D texture;
    uniform sampler2D texture_overlay;
    uniform float opacity;
    uniform vec3 topColor;
    varying vec3 vColor;
    varying vec2 vUv;
    void main() {
      gl_FragColor = vec4(topColor*vColor, opacity );
      gl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );
      //gl_FragColor = gl_FragColor * texture2D( texture_overlay, gl_PointCoord );
    }
  </script>

  <script type="x-shader/x-vertex" id="vertexshader-2">
    attribute float displacement;
    varying vec2 vUv;
    varying float vOpacity;
    void main() {
      vUv = uv;
      vOpacity = displacement;
      vec3 p = position;
      p.x += sin(displacement) * 50.0;
      p.y += cos(displacement) * 50.0;
      vec4 mvPosition = modelViewMatrix * vec4( p, 1.0 );
      gl_Position = projectionMatrix * mvPosition;
    }
  </script>

  <script type="x-shader/x-fragment" id="fragmentshader-2">
    uniform sampler2D texture1;
    uniform vec3 defaultColor;
		uniform float defaultOpacity;
    varying vec2 vUv;
    varying float vOpacity;
    void main() {
      vec4 texture = texture2D (texture1, vUv);
      vec4 texOpact = vec4(vOpacity);
      vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );
      vec4 alpha = vec4(0);
      gl_FragColor = mix( texture, outputColor, alpha);
      //gl_FragColor = mix( gl_FragColor, texOpact, alpha);
    }
  </script>

  <script src="js/circlar_timeline.js"></script>
  <script src="js/scroll_control.js"></script>
  <script src="kp_flame_withImageover.js"></script>

</body>

</html>
