<!DOCTYPE html>
<html lang="en">

<head>
  <title>three.js kp-flame with WebGl</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="style/main.css">

</head>

<body>

  <section class="hero_image hero_clip">
    <div id="flame-container"></div>
  </section>

  <svg width="0" height="0">
      <defs>
        <clipPath id="hero_clip">
          <circle cx="50%" cy="-50%" r="2000"/>
        </clipPath>
      </defs>
    </svg>

  <!-- Todo: Going to refactroy and load Three.js with package -->
  <script src="js/three.js"></script>
  <script src="js/WebGL.js"></script>
  <script src="js/Tween.js"></script>

  <script type="x-shader/x-vertex" id="vertexshader">
    attribute float size;
    varying vec3 vColor;
    void main() {
      vColor = color;
      vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
      gl_PointSize = size * ( 300.0 / -mvPosition.z );
      gl_Position = projectionMatrix * mvPosition;
    }
  </script>

  <script type="x-shader/x-fragment" id="fragmentshader">
    uniform sampler2D texture;
    uniform float opacity;
    uniform vec3 topColor;
    varying vec3 vColor;
    void main() {
      gl_FragColor = vec4(topColor*vColor, opacity );
      gl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );
    }
  </script>

  <script src="kp_flame_hero_image.js"></script>

</body>

</html>
